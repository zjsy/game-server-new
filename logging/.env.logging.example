# ============================================
# 日志收集系统环境变量配置示例
# ============================================
# 
# 使用方法：
# 1. 复制此文件为 .env.logging
# 2. 修改配置值
# 3. 在 docker-compose.logging.yml 中引用
#    env_file:
#      - .env.logging
#

# ============================================
# Grafana 配置
# ============================================

# Grafana 管理员用户名（默认: admin）
GRAFANA_ADMIN_USER=admin

# Grafana 管理员密码（生产环境请修改！）
GRAFANA_ADMIN_PASSWORD=your-secure-password-here

# Grafana 访问 URL
GRAFANA_SERVER_ROOT_URL=http://localhost:3000

# 是否允许用户注册（建议关闭）
GRAFANA_USERS_ALLOW_SIGN_UP=false

# 日志级别: debug, info, warn, error
GRAFANA_LOG_LEVEL=info

# ============================================
# Loki 配置
# ============================================

# 日志保留时间（小时）
# 168h = 7天, 720h = 30天
LOKI_RETENTION_PERIOD=168h

# 日志摄取速率限制（MB/秒）
LOKI_INGESTION_RATE_MB=10

# 日志摄取突发限制（MB）
LOKI_INGESTION_BURST_SIZE_MB=20

# 最大查询系列数
LOKI_MAX_QUERY_SERIES=5000

# ============================================
# Promtail 配置
# ============================================

# Promtail 日志级别
PROMTAIL_LOG_LEVEL=info

# Docker Socket 路径（Windows WSL2 使用默认路径）
PROMTAIL_DOCKER_SOCKET=/var/run/docker.sock

# ============================================
# 网络配置
# ============================================

# Loki 端口
LOKI_PORT=3100

# Grafana 端口
GRAFANA_PORT=3000

# Promtail 端口
PROMTAIL_PORT=9080

# ============================================
# 项目标签配置
# ============================================

# 项目名称
LOGGING_PROJECT=fggame-open-api

# 团队名称
LOGGING_TEAM=backend-team

# 环境标识: development, staging, production
LOGGING_ENVIRONMENT=production

# ============================================
# 告警配置（可选）
# ============================================

# Slack Webhook URL（用于告警通知）
# ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# 钉钉 Webhook URL
# ALERT_DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN

# 企业微信 Webhook URL
# ALERT_WECOM_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=YOUR_KEY

# 邮件告警配置
# ALERT_EMAIL_FROM=alerts@example.com
# ALERT_EMAIL_TO=admin@example.com
# ALERT_SMTP_HOST=smtp.example.com
# ALERT_SMTP_PORT=587
# ALERT_SMTP_USER=alerts@example.com
# ALERT_SMTP_PASSWORD=your-email-password

# ============================================
# 存储配置（可选）
# ============================================

# 如果使用 S3 存储日志（需要配置 Loki）
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET_NAME=your-loki-logs-bucket

# 如果使用 Azure Blob 存储
# AZURE_STORAGE_ACCOUNT_NAME=your-account
# AZURE_STORAGE_ACCOUNT_KEY=your-key
# AZURE_CONTAINER_NAME=loki-logs

# ============================================
# 性能调优（高级）
# ============================================

# Loki 查询并发数
# LOKI_QUERY_PARALLELISM=32

# Loki 缓存大小（MB）
# LOKI_CACHE_SIZE_MB=100

# Promtail 批处理大小
# PROMTAIL_BATCH_SIZE=1048576

# Promtail 批处理等待时间（秒）
# PROMTAIL_BATCH_WAIT=1
